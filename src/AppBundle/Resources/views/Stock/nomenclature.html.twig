{# src/AppBundle/Resources/views/Stock/nomenclature.html.twig #}
{% extends "::layout.html.twig" %}

{% block title %}
    {{ parent() }} - Stock - Gérer nomenclature
{% endblock %}

{% block javascripts %}
  {{ parent() }}

  <script src="{{ asset('js/stock-gerer-nomenclature.js') }}" type="text/javascript"></script>
{% endblock %}

{% block breadcrumb %}
        <ol class="breadcrumb">
        	<li><a href="{{ path('accueil_stock') }}">Stock</a></li>
        	<li class="active">Gérer nomenclature</li>
        </ol>
{% endblock %}

{% block menu %}
	{{ render(controller("AppBundle:Stock:menu")) }}
{% endblock %}

{% block body %}

	<div id="cadrebody">
		<h3>Sélection de la nomenclature</h3>

		<div class="selection">
			<select id="selnomenclature" class="form-control sel-largeur">
		        <option value="-1" selected>Choisissez une nomenclature</option>
		        {% for nom in listenomenclature %}
		            <option value="{{ nom.codeProduit }}">{{ nom.codeProduit }}</option>
		        {% endfor %}
    		</select>
		</div>

		<div class="selection">
			<select id="selfournisseur" class="form-control sel-largeur">
		        <option value="-1" selected>Choisissez un fournisseur</option>
		        {% for fournisseur in listefournisseur %}
		            <option value="{{ fournisseur.idtSociete }}">{{ fournisseur.nomSociete }}</option>
		        {% endfor %}
    		</select>
		</div>

		<div id="selmateriau" class="selection" data-path="{{ path('selection_materiau') }}">
			<select id="selectmateriau" class="form-control sel-largeur">
				<option value="-1" selected>--------</option>
			</select>
		</div>

		<div id="boutonajouter">
		    <button type="button" id="btnajouter" name="btnajouter" class="btn btn-primary unique-taille">Ajouter</button>
		</div>

		<div class="well">
			<form action="{{ path('gerer_nomenclature') }}" method="post">
	            <table id="tabliste">
	                <thead>
	                    <tr>
	                        <th>Code produit</th>
	                        <th>Nom produit</th>
	                        <th>Quantité</th>
	                        <th>Action</th>
	                    </tr>
	                </thead>
	                <tfoot>
	                </tfoot>
	            </table>

	            <div id="protonomenclature" name="protonomenclature" data-prototype="<tr><td><input type='text' id='nomenclature___name___pcode' name='nomenclature[__name__][pcode]' readonly='readonly'/><input type='hidden' id='nomenclature___name___pid' name='nomenclature[__name__][pid]'/></td><td><input type='text' id='nomenclature___name___pnom' name='nomenclature[__name__][pnom]' readonly='readonly'/></td><td><input type='number' id='nomenclature___name___quantite' name='nomenclature[__name__][quantite]' required='required'/></td></tr>">
	            </div>

				<div id="submitform">
		            <button type="submit" id="btnvalider" name="btnvalider" class="btn btn-primary">Valider</button>
		            <button type="submit" id="btnannuler" name="btnannuler" class="btn btn-default" data-path="{{ path('gerer_nomenclature') }}">Annuler</button>
		            <input type="hidden" id="codenomenclature" name="codenomenclature">
	          	</div>
			</form>
		</div>

	</div>
{% endblock %}